<!DOCTYPE html>
<html>

<head>
  <meta charset="UTF-8" />
  <title>Hello World</title>
  <script src="https://unpkg.com/react@17/umd/react.development.js"></script>
  <script src="https://unpkg.com/react-dom@17/umd/react-dom.development.js"></script>

  <!-- Don't use this in production: -->
  <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>

  <style>
    body {
      font-family: monospace;
      font-size:20px;
    }

    table{
      border:1px black solid;
      border-collapse: collapse;
    }

    td{
      padding:5px;
    }
    tr:nth-child(even){
      background-color:rgb(190, 190, 190);
    }
  </style>
</head>

<body>
  <div id="root"></div>
  <script type="text/babel">

    // get the current date
    // show date 180 days ago
    // show date 28 days ago
    // show 16 y/o and 18 y/o DOBs

    const monthArr = ["JAN", "FEB", "MAR", "APR", "MAY", "JUN", "JUL", "AUG", "SEP", "OCT", "NOV", "DEC"]

    const msInDay = 1000 * 60 * 60 * 24

    function formatDate(dateObj) {
      const date = String(dateObj.getDate())
      const month = monthArr[dateObj.getMonth()]
      const year = String(dateObj.getFullYear())
      return date + " " + month + " " + year
    }

    function daysAgo(number, dateObj) {
      return new Date(dateObj.getTime() - (number * msInDay))
    }

    function dobDate(age, dateObj) {
      const dobYear = dateObj.getFullYear() - age
      const newDate = new Date(dateObj)
      newDate.setYear(dobYear)
      return newDate
    }

    function App() {
      const todayx = new Date()
      const today = daysAgo(0, todayx)


      return (
        <div>
          <table>
            <tbody>
            <tr>
              <td>Today:</td>
              <td>{formatDate(today)}</td>
            </tr>
            <tr>
              <td>Four weeks ago (28 days):</td>
              <td>{formatDate(daysAgo(28, today))}</td>
            </tr>
            <tr>
              <td>Six months ago (180 days):</td>
              <td>{formatDate(daysAgo(180, today))}</td>
            </tr>
            <tr>
              <td>18 years old:</td>
              <td>{formatDate(dobDate(18, today))}</td>
            </tr>
            <tr>
              <td>16 years old:</td>
              <td>{formatDate(dobDate(16, today))}</td>
            </tr>
            <tr>
              <td>12 years old:</td>
              <td>{formatDate(dobDate(12, today))}</td>
            </tr>
            </tbody>
          </table>
        </div>
      )



      // return (
      //   <div>
      //     <p>Today: {formatDate(today)}</p>
      //     <p>Four weeks ago (28 days): {formatDate(daysAgo(28, today))}</p>
      //     <p>Six months ago (180 days): {formatDate(daysAgo(180, today))}</p>
      //     <p>18 years old: {formatDate(dobDate(18, today))}</p>
      //     <p>16 years old: {formatDate(dobDate(16, today))}</p>
      //     <p>12 years old: {formatDate(dobDate(12, today))}</p>
      //   </div>
      // )
    }

    ReactDOM.render(
      <App />,
      document.getElementById('root')
    );

  </script>
  <!--
      Note: this page is a great way to try React but it's not suitable for production.
      It slowly compiles JSX with Babel in the browser and uses a large development build of React.

      Read this section for a production-ready setup with JSX:
      https://reactjs.org/docs/add-react-to-a-website.html#add-jsx-to-a-project

      In a larger project, you can use an integrated toolchain that includes JSX instead:
      https://reactjs.org/docs/create-a-new-react-app.html

      You can also use React without JSX, in which case you can remove Babel:
      https://reactjs.org/docs/react-without-jsx.html
    -->
</body>

</html>
